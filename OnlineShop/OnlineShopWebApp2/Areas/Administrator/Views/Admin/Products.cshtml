
@model IEnumerable<Product>
@{
    int i = 1;
}
<div style="margin:30px">
	<h1 class="lead">Список продуктов</h1> <a asp-controller="Products" asp-action="CreateForm" class="link-success">Добавить новый продукт</a>
	<table class="table">
		<thead>
			<tr>
				<th scope="col">#</th>
				<th scope="col">Id</th>
				<th scope="col">Название</th>
				<th scope="col">Цена</th>
				<th scope="col"></th>
				<th scope="col"></th>
			</tr>
		</thead>
		<tbody>
			@foreach (var product in Model)
			{
				<tr>
					<th scope="row">@i</th>
					<td>@product.Id</td>
					<td>@product.Name</td>
					<td>@product.Cost</td>
					<td><a asp-controller="Products" asp-action="EditForm" asp-route-id="@product.Id" class="link-success">Редактировать</a></td>
					<td>
						<!-- Button trigger modal --><button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#role_@i">
							Удалить
						</button>
						<!-- Modal -->
						<div class="modal fade" id="role_@i" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
							<div class="modal-dialog" >
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="exampleModalLabel">Удалить продукт</h5> <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body"> Вы точно хотите удалить продукт? </div>
									<div class="modal-footer"> <a asp-controller="Products" asp-action="Delete" asp-route-id="@product.Id" class="btn btn-outline-primary">Подтвердить</a>
										<a asp-controller="Admin" asp-action="Products" class="btn btn-outline-primary">Отмена</a> </div>
								</div>
							</div>
						</div>
					</td>
				</tr>
				i += 1;
			}
		</tbody>
	</table>
</div>